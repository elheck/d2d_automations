services:
  inventory_sync:
    image: ghcr.io/elheck/inventory_sync:latest
    container_name: inventory_sync
    restart: unless-stopped
    ports:
      - "3000:3000"
    environment:
      - RUST_LOG=info
      - TZ=Europe/Berlin
    volumes:
      - inventory_data:/data
    command: ["--interval-hours", "12", "--web-port", "3000"]

  watchtower:
    image: containrrr/watchtower
    container_name: watchtower
    restart: unless-stopped
    environment:
      - TZ=Europe/Berlin
      - WATCHTOWER_CLEANUP=true
      - WATCHTOWER_POLL_INTERVAL=3600
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock

volumes:
  inventory_data:
    driver: local

# Container runs continuously, checking every 12 hours and syncing when needed
# Web UI available at http://localhost:3000
# Deploy with: docker compose up -d
# View logs: docker compose logs -f
# Access web UI: http://localhost:3000
# Watchtower checks for new images every hour and auto-updates
